{% extends 'base.html' %}

{% block styles %} 
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles/style_explication.css')}}">
{% endblock %}

{% block content %}

<div class="container-fluid">
    <div class="container">
        <div class="row">
            <div class="col-md-7">
                <h1><b> The ball is in your court ! </b></h1>
                You can play with the alanine dipeptide molecule displayed below. 
                    <script>
                        jmolApplet(400, "load {{url}}" , "0" )
                    </script>
            </div>
            <div class=" col-md-3 list-group">
                <a href="/explication" class="list-group-item list-group-item-action" aria-current="true"> Introduction</a>
                <a href="/explication/1" class="list-group-item list-group-item-action"> Molecular Simulation </a>
                <a href="/explication/2" class="list-group-item list-group-item-action">Neural Network Training</a>
                <a href="/explication/3" class="list-group-item list-group-item-action "> Quality of CVs </a>
                <a href="/explication/4" class="list-group-item list-group-item-action active"> Ball is in your court !</a>
            </div>
        </div>

        {% if completed_form %}

            Your Ramachandran plot is :
            <div class="container-fluid" style="margin-top:40px"> 
                <iframe src= "/static/templates/rama_user.html" width="800" height="800" ></iframe>
            </div>
            <iframe src="/static/templates/rama_frame.html" width="800" height="800" ></iframe>

        {% else %}
            <div class="row wp-block-image">
                You have to choose 4 atoms in order to define a dihedral angle. You can see the numerotation of atoms 
                by dragging the cursor over the atoms: the number and the atom name will appear ! <br>
                Find the right angles and chart the correct Ramachandran plot !
            </div>
            <div class="row">
                <h2>Map out the Ramachandran plot</h2>
                <p>If you don't know what to choose you can start with [5, 7, 9, 15] for &phi; and  [7, 9, 15, 17] for &psi;.</p>
            </div>
            <div class="form-container">
                <form action="#" method="POST">
                    <div class="row">
                        <label for="phi"> Define &phi; angle </label><br>
                        <div class="col">
                            <input type="int" class="form-control" name="phi_atom1" placeholder="Enter an integer">
                        </div>
                        <div class="col">
                            <input type="int" class="form-control" name="phi_atom2" placeholder="Enter an integer">
                        </div>
                        <div class="col">
                            <input type="int" class="form-control"  name="phi_atom3" placeholder="Enter an integer">
                        </div>
                        <div class= "col">
                            <input type="int" class="form-control"  name="phi_atom4" placeholder="Enter an integer">
                        </div>
                    </div>
                    <div class="row"> 
                        <label for="psi"> Define &psi; angle </label><br>
                        <div class="col">
                            <input type="int" class="form-control" name="psi_atom1" placeholder="Enter an integer">
                        </div>
                        <div class="col">
                            <input type="int" class="form-control" name="psi_atom2" placeholder="Enter an integer">
                        </div>
                        <div class="col">
                            <input type="int" class="form-control" name="psi_atom3" placeholder="Enter an integer">
                        </div>
                        <div class="col">
                            <input type="int" class="form-control" name="psi_atom4" placeholder="Enter an integer">
                        </div>
                    </div>
                    <div class="wp-block-image">
                        <input type="submit" class="form-control" value="Launch Computation">
                    </div>
                    
                </form>
            </div>

        {% endif %}
            <div class="row">
                <div class="col">
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            100% Completed
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2">
                    <a href='/explication/3' type="button" class="btn btn-primary">
                        <span class="glyphicon glyphicon-circle-arrow-left" aria-hidden="true"></span>
                    </a>
                </div>
            </div>
    </div>
</div>

{% endblock %}